<!DOCTYPE html>
<html lang="en">
<head>
    <title>SI 2021</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>


    <script src="dashboard.js?turn=3"></script>
    <link rel="stylesheet" href="dashboard.css">

</head>

<body>

    <nav class="navbar navbar-default navbar-static-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                    SI
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <form class="navbar-form navbar-left" method="GET" role="search">
                    <div class="form-group">
                        <input type="text" name="q" class="form-control" placeholder="Search">
                    </div>
                    <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
                </form>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#" target="_blank">Visit Site</a></li>
                    <li class="dropdown ">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                            Account
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li class="dropdown-header">SETTINGS</li>
                            <li class=""><a href="#" id="login_form" class="navegar">Login </a></li>
                            <li class=""><a href="#">Sign up</a></li>
                            <li class=""><a href="#">Take coffee</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>

    <div class="container-fluid main-container">
        <div class="row">
            <div class="col-md-2 sidebar">
                <ul class="nav nav-pills nav-stacked">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#" id="idProlog" class="navegar">Interactive Prolog </a></li>
                    <li><a href="#" id="idMonitoringAndDispatcher" class="navegar">Monitoring and Dispatcher</a></li>
                    <li><a href="#" id="idPlanner" class="navegar">Planner module</a></li>
                    <li><a href="#" id="idAlerts" class="navegar">Alerts</a></li>
                    <li><a href="#" id="idFailures" class="navegar">Failures</a></li>
                    <li><a href="#" id="idAlarms" class="navegar">Alarms</a></li>
                    <li><a href="#" id="idAnalytics" class="navegar">Analytics</a></li>
                    <li><a href="#" id="idAbout" class="navegar">About</a></li>
                </ul>
            </div>
            <div class="col-md-10 content">
                <div class="row">
                    <div class="col-sm12">
                        <div class="alert alert-success collapse" role="alert" id="alertMessage" data-nivel_alerta="alert-success">
                            <p id="alertMessageContent">Alert Messages: here comes the messages</p>
                            <button type="button" class="btn btn-success" id="closeAlertMessage">OK</button>
                        </div>

                        <div class="alert alert-danger collapse" role="alert" id="alertConfirmarMessage" data-nivel_alerta="alert-danger">
                            <p id="alertConfirmarMessageContent">Alert Messages: here comes the messages</p>
                            <button type="button" class="btn btn-success" id="yesConfirmMessage">Yes</button>
                            <button type="button" class="btn btn-success" id="noConfirmMessage">No</button>
                        </div>


                        <!--
              <button type="button" class="btn btn-success btn-sm" id="mostra_panel">Mostrar panel</button>
              <button type="button" class="btn btn-success btn-sm" id="esconde_panel">Esconde panel</button>
            -->
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-5">
                        <div style="height:100%;">

                            <iframe id="idFrameContent" src="HMI-monitoring_dispatcher.html" frameborder="0" style="overflow:hidden;height:60vh;width:35vw"></iframe>
                        </div>
                    </div>
                    <div class="col-sm-7">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe src="../ss_multi_parts.html"></iframe>
                        </div>
                    </div>

                </div>
                <!-- HERE -->
                
                <div class="row" style="border: solid blue 1px; padding: 5px; margin: 5px ">

                    <div class="col-sm1"><label id="xLabel" /></div>
                    <div class="col-sm1"><label id="yLabel" /></div>
                    <div class="col-sm1"><label id="zLabel" /></div>
                    <div class="col-sm1"><label id="cageLabel" /></div>
                </div>

            </div>
        </div>


        <div class="row fixed-bottom">
            <div class="col-sm-12">
                <footer class="pull-left footer">

                    <hr class="divider">
                    Copyright &COPY; 2021 <a href="#">Sim</a>
                    </p>
                </footer>
            </div>
        </div>
    </div>




    <div class="modal" id="partialViewModal" tabindex="-1" role="dialog" aria-labelledby="partialViewModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="entityModalTitle">Entity Title </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="document.getElementById('partialViewModal').style.display = 'none';">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="modalDetails">
                    </div>
                </div>

                <div class="modal-footer">
                    <h5>Footer message here</h5>
                </div>
            </div>
        </div>
    </div>


    <button id="abc" type="Button" class="btn btn-default">open modal</button>



    <script>
        // HERE
        function tick() {
            ajax_post_request("/rtx_get", { "query": "read_sensor_values" }, function (result) {
                console.log("read_sensor_values: " + result);
                var jsObj = JSON.parse(result);
                $("#xLabel").text("xPos: " + jsObj.x);
                $("#yLabel").text("yPos: " + jsObj.y);
                $("#zLabel").text("zPos: " + jsObj.z);
                $("#cageLabel").text("partInCage: " + jsObj.cage);
                //complete for yLabel and so on...

            });

            setTimeout(tick, 100);
        }

        setTimeout(tick, 100);


        $(document).ready(function () {

            $("#abc").click(function () {
                $("#modalDetails").load("abc.txt", function () {
                    $("#partialViewModal").modal("show");
                });

            });

            $("#mostra_panel").click(function () {
                //alert( "Handler for .click() called." );
                $("#alertMessage").show();
            });

            $("#esconde_panel").click(function () {
                //alert( "Handler for .click() called." );
                $("#alertMessage").hide();
            });

            $("#closeAlertMessage").click(function () {
                //alert( "Handler for .click() called." );
                $("#alertMessage").hide();
                $('#alertMessageContent').text('');
            });

            /*
            $(".navegar").click(function () {
                //alert(window.location.origin+window.location.pathname);
                window.location.href =
                    window.location.origin + window.location.pathname + "?page=" + event.target.id;
            });
            */

            $("#idMonitoringAndDispatcher").click(function () {
                //alert(window.location.origin+window.location.pathname);

                var e = document.getElementById("idFrameContent");
                e.src = "HMI-monitoring_dispatcher.html"


            });

            $("#idProlog").click(function () {
                //alert(window.location.origin+window.location.pathname);

                var e = document.getElementById("idFrameContent");
                e.src = "HMI-prolog.html"
            });

            $("#idPlanner").click(function () {
                //alert(window.location.origin+window.location.pathname);

                var e = document.getElementById("idFrameContent");
                e.src = "HMI-planner.html"
            });

            //showAlert("Erro no armazem", "bg-secondary");
            $("#idAlerts").click(function () {
                var e = document.getElementById("idFrameContent");
                e.src = "HMI-alerts.html";
                e.style.transform = "scale(0.9,0.9)";
            });

            //showFailure("Falha no armazem", "bg-secondary");
            $("#idFailures").click(function () {
                var e = document.getElementById("idFrameContent");
                e.src = "HMI-failures.html";
                e.style.transform = "scale(0.9,0.9)";
            });


        });
    </script>


</body>

</html>